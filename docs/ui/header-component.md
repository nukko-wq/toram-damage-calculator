# ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ›¸

## æ¦‚è¦

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚’å«ã‚€çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

### Headerï¼ˆãƒ¡ã‚¤ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/ui/Header.tsx`
- **ç›®çš„**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ¢ãƒã‚¤ãƒ«

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ—¡ï¸] ãƒˆãƒ¼ãƒ©ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—    [ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†] [è¨ˆç®—çµæœè¡¨ç¤º] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
- å·¦å´: ã‚µã‚¤ãƒˆãƒ­ã‚´ + ã‚¿ã‚¤ãƒˆãƒ«
- å³å´: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤ï¼ˆã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã€è¨ˆç®—çµæœè¡¨ç¤ºï¼‰

**ãƒ¢ãƒã‚¤ãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
- ä¸Šæ®µ: ã‚µã‚¤ãƒˆãƒ­ã‚´ + ã‚¿ã‚¤ãƒˆãƒ«
- ä¸‹æ®µ: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤ï¼ˆç¸¦ä¸¦ã³é…ç½®ï¼‰

## UIä»•æ§˜

### ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†
- **ã‚¢ã‚¤ã‚³ãƒ³**: âš”ï¸ ã¾ãŸã¯ ğŸ—¡ï¸ï¼ˆå‰£ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼‰
- **ã‚¿ã‚¤ãƒˆãƒ«**: "ãƒˆãƒ¼ãƒ©ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—"
- **ãƒ•ã‚©ãƒ³ãƒˆ**: æ—¥æœ¬èªå¯¾å¿œã€ã‚»ãƒŸãƒœãƒ¼ãƒ«ãƒ‰
- **è‰²**: ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼ï¼ˆé’ç³»ï¼‰

### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
1. **ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒœã‚¿ãƒ³**
   - ç¾åœ¨ã®å®Ÿè£…ã‚’æµç”¨
   - ã‚¢ã‚¤ã‚³ãƒ³: ğŸ“‹ ã¾ãŸã¯ ğŸ’¾
   - ãƒ©ãƒ™ãƒ«: "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†"

2. **è¨ˆç®—çµæœè¡¨ç¤ºãƒœã‚¿ãƒ³**
   - è¨ˆç®—çµæœã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
   - ã‚¢ã‚¤ã‚³ãƒ³: ğŸ“Š ã¾ãŸã¯ â–¼ï¼ˆçŠ¶æ…‹ã«å¿œã˜ã¦å¤‰åŒ–ï¼‰
   - ãƒ©ãƒ™ãƒ«: "è¨ˆç®—çµæœã‚’è¡¨ç¤º" / "è¨ˆç®—çµæœã‚’éè¡¨ç¤º"

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­è¨ˆ

**ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**:
- `sm`: 640pxä»¥ä¸Šï¼ˆãƒ¢ãƒã‚¤ãƒ«ï¼‰
- `md`: 768pxä»¥ä¸Šï¼ˆã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼‰
- `lg`: 1024pxä»¥ä¸Šï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰

**ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆlgä»¥ä¸Šï¼‰**:
```css
display: flex
justify-content: space-between
align-items: center
```

**ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆmd-lgï¼‰**:
```css
display: flex
flex-direction: column
gap: 1rem
```

**ãƒ¢ãƒã‚¤ãƒ«ï¼ˆsmæœªæº€ï¼‰**:
```css
display: flex
flex-direction: column
gap: 0.75rem
```

## æŠ€è¡“ä»•æ§˜

### TypeScript ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```typescript
interface HeaderProps {
  className?: string
}

interface HeaderActionsProps {
  showSaveManager: boolean
  onToggleSaveManager: () => void
  showCalculationResult: boolean
  onToggleCalculationResult: () => void
}
```

### Zustandçµ±åˆ

ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ä»¥ä¸‹ã®ã‚¹ãƒˆã‚¢ã¨é€£æº:

```typescript
// UIStore
const { showSaveManager, setShowSaveManager } = useUIStore()

// CalculatorStore
const { 
  isCalculationResultVisible, 
  toggleCalculationResultVisibility 
} = useCalculatorStore()
```

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

**Tailwind CSS ã‚¯ãƒ©ã‚¹æ§‹æˆ**:
```css
/* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ */
.header-container {
  @apply sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm;
}

/* ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ† */
.header-title {
  @apply flex items-center gap-2 text-xl font-semibold text-gray-900;
}

/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
.header-action-btn {
  @apply inline-flex items-center px-4 py-2 border border-transparent 
         text-sm font-medium rounded-md text-white bg-blue-600 
         hover:bg-blue-700 focus:outline-none focus:ring-2 
         focus:ring-blue-500 focus:ring-offset-2;
}
```

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²

### Header.tsxï¼ˆãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–åˆ¶å¾¡
- Zustandã‚¹ãƒˆã‚¢ã¨ã®çµ±åˆ

### HeaderTitle.tsxï¼ˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã¨ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤º
- ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¦ç´ ã®ç®¡ç†

### HeaderActions.tsxï¼ˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤ã®ç®¡ç†
- ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹è¡¨ç¤ºã¨ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

### ARIAå±æ€§
```tsx
<header role="banner" aria-label="ãƒ¡ã‚¤ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼">
  <h1 aria-label="ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«">ãƒˆãƒ¼ãƒ©ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—</h1>
  <nav role="navigation" aria-label="ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³">
    <button aria-expanded={showSaveManager} aria-controls="save-manager">
      ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†
    </button>
    <button aria-expanded={showCalculationResult} aria-controls="calculation-result">
      è¨ˆç®—çµæœè¡¨ç¤º
    </button>
  </nav>
</header>
```

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- Tabé †åº: ã‚¿ã‚¤ãƒˆãƒ« â†’ ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒœã‚¿ãƒ³ â†’ è¨ˆç®—çµæœè¡¨ç¤ºãƒœã‚¿ãƒ³
- Enter/Space: ãƒœã‚¿ãƒ³ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³
- Escape: ãƒ¢ãƒ¼ãƒ€ãƒ«ç³»ã®é–‰ã˜ã‚‹å‹•ä½œï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®äº‹é …

### ãƒ¡ãƒ¢åŒ–
```typescript
export const Header = memo(() => {
  // implementation
})

export const HeaderActions = memo<HeaderActionsProps>(({ 
  showSaveManager, 
  onToggleSaveManager,
  showCalculationResult,
  onToggleCalculationResult 
}) => {
  // implementation
}, (prevProps, nextProps) => {
  return (
    prevProps.showSaveManager === nextProps.showSaveManager &&
    prevProps.showCalculationResult === nextProps.showCalculationResult
  )
})
```

### æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ
- çŠ¶æ…‹å¤‰æ›´æ™‚ã®ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢
- ã‚¢ã‚¤ã‚³ãƒ³ã®SVGæœ€é©åŒ–
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ç”¨ã®CSSã®æœ€é©åŒ–

## çµ±åˆæ–¹é‡

### layout.tsxçµ±åˆ
```typescript
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja">
      <body>
        <Header />
        <main>{children}</main>
      </body>
    </html>
  )
}
```

### æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç§»è¡Œ
1. `src/app/page.tsx`ã‹ã‚‰ãƒ˜ãƒƒãƒ€ãƒ¼é–¢é€£ã‚³ãƒ¼ãƒ‰ã‚’æŠ½å‡º
2. ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒœã‚¿ãƒ³ã‚’HeaderActionsã«ç§»å‹•
3. è¨ˆç®—çµæœè¡¨ç¤ºãƒœã‚¿ãƒ³ã‚’HeaderActionsã«ç§»å‹•
4. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¹ã‚¿ã‚¤ãƒ«ã®çµ±åˆ

## è¨ˆç®—çµæœãƒœã‚¿ãƒ³ãƒãƒ¼ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ä¸‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰

### æ¦‚è¦
ãƒ˜ãƒƒãƒ€ãƒ¼ã®ç›´ä¸‹ã«é…ç½®ã•ã‚Œã‚‹è¨ˆç®—çµæœè¡¨ç¤ºç”¨ã®ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ãƒãƒ¼ã€‚ä¸ãƒ€ãƒ¡ãƒ¼ã‚¸ç¢ºèªã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªã®2ã¤ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

#### ResultToggleBarï¼ˆãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/layout/ResultToggleBar.tsx`
- **ç›®çš„**: è¨ˆç®—çµæœã®è¡¨ç¤ºåˆ¶å¾¡ã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ç®¡ç†
- **ä½ç½®**: ãƒ˜ãƒƒãƒ€ãƒ¼ç›´ä¸‹ã€ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸Š

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš”ï¸ ãƒˆãƒ¼ãƒ©ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—    [ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€ ResultToggleBar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ä¸ãƒ€ãƒ¡ãƒ¼ã‚¸ç¢ºèª] [ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€ Preview Area â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ é¸æŠã•ã‚ŒãŸãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å†…å®¹ã‚’ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ€ã‚¦ãƒ³   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UIä»•æ§˜

#### ãƒœã‚¿ãƒ³ãƒãƒ¼è¨­è¨ˆ
- **ãƒœã‚¿ãƒ³é…ç½®**: å·¦å´ã«2ã¤ã®ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã‚’é…ç½®
- **ãƒœã‚¿ãƒ³ãƒ©ãƒ™ãƒ«**: "ä¸ãƒ€ãƒ¡ãƒ¼ã‚¸ç¢ºèª" | "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª"
- **ãƒœã‚¿ãƒ³çŠ¶æ…‹**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆé¸æŠä¸­ï¼‰/éã‚¢ã‚¯ãƒ†ã‚£ãƒ–/ä¸¡æ–¹éé¸æŠ
- **å‹•ä½œ**: æ’ä»–çš„é¸æŠï¼ˆ1ã¤ã®ã¿ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã€åŒã˜ãƒœã‚¿ãƒ³ã§é–‰ã˜ã‚‹ï¼‰

#### ãƒœã‚¿ãƒ³ä»•æ§˜
```typescript
interface ResultToggleButton {
  id: 'damage' | 'status'
  label: 'ä¸ãƒ€ãƒ¡ãƒ¼ã‚¸ç¢ºèª' | 'ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª'
  icon: React.ComponentType
  color: 'orange' | 'blue'  // ä¸ãƒ€ãƒ¡ãƒ¼ã‚¸=ã‚ªãƒ¬ãƒ³ã‚¸ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹=ãƒ–ãƒ«ãƒ¼
}
```

#### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢
- **è¡¨ç¤ºåˆ¶å¾¡**: ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ€ã‚¦ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ300msã€ease-in-outï¼‰
- **é«˜ã•**: autoï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¿œã˜ã¦å‹•çš„èª¿æ•´ï¼‰
- **èƒŒæ™¯**: è–„ã„ã‚°ãƒ¬ãƒ¼ï¼ˆbg-gray-50ï¼‰
- **å¢ƒç•Œ**: ä¸Šä¸‹ã«ãƒœãƒ¼ãƒ€ãƒ¼ãƒ©ã‚¤ãƒ³

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­è¨ˆ

**ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆlgä»¥ä¸Šï¼‰**:
```css
.result-toggle-bar {
  display: flex;
  justify-content: flex-start;
  gap: 1rem;
  padding: 0.75rem 1rem;
}
```

**ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆmd-lgï¼‰**:
```css
.result-toggle-bar {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
}
```

**ãƒ¢ãƒã‚¤ãƒ«ï¼ˆsmæœªæº€ï¼‰**:
```css
.result-toggle-bar {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
}
```

### æŠ€è¡“ä»•æ§˜

#### TypeScript ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```typescript
interface ResultToggleBarProps {
  className?: string
}

interface ResultToggleState {
  activeResult: 'damage' | 'status' | null
}

interface DamagePreviewProps {
  isVisible: boolean
  data?: DamageCalculationResult
}

interface StatusPreviewProps {
  isVisible: boolean
  data?: CalculationResults
}
```

#### Zustandçµ±åˆ

æ–°ã—ã„UIStoreæ‹¡å¼µ:
```typescript
interface UIStore {
  // æ—¢å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰...
  
  // è¨ˆç®—çµæœè¡¨ç¤ºåˆ¶å¾¡
  activeResultView: 'damage' | 'status' | null
  setActiveResultView: (view: 'damage' | 'status' | null) => void
  toggleResultView: (view: 'damage' | 'status') => void
}
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²

#### ResultToggleBar.tsxï¼ˆãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- ãƒœã‚¿ãƒ³ãƒãƒ¼ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ã®è¡¨ç¤ºåˆ¶å¾¡
- çŠ¶æ…‹ç®¡ç†ã¨ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶å¾¡

#### DamagePreview.tsxï¼ˆä¸ãƒ€ãƒ¡ãƒ¼ã‚¸ç¢ºèªï¼‰
- ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—çµæœã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
- é€šå¸¸æ”»æ’ƒã€ã‚¹ã‚­ãƒ«æ”»æ’ƒã€ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ç­‰ã®è¡¨ç¤º
- **ç¾åœ¨ã¯æº–å‚™ã®ã¿ï¼ˆãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼‰**

#### StatusPreview.tsxï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªï¼‰
- æ—¢å­˜ã®CalculationResultContentã‚’æ´»ç”¨
- åŸºæœ¬ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€è£œæ­£å¾Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç­‰ã®è¡¨ç¤º
- ç°¡æ˜“ç‰ˆè¡¨ç¤ºï¼ˆä¸»è¦é …ç›®ã®ã¿ï¼‰

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ä»•æ§˜

#### ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
```css
/* ä¸ãƒ€ãƒ¡ãƒ¼ã‚¸ç¢ºèªãƒœã‚¿ãƒ³ */
.damage-toggle-btn {
  @apply inline-flex items-center px-4 py-2 border border-transparent 
         text-sm font-medium rounded-md transition-colors duration-200
         focus:outline-none focus:ring-2 focus:ring-offset-2;
}

.damage-toggle-btn.active {
  @apply text-white bg-orange-600 hover:bg-orange-700 
         focus:ring-orange-500;
}

.damage-toggle-btn.inactive {
  @apply text-orange-700 bg-orange-100 hover:bg-orange-200 
         focus:ring-orange-500;
}

/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªãƒœã‚¿ãƒ³ */
.status-toggle-btn {
  @apply inline-flex items-center px-4 py-2 border border-transparent 
         text-sm font-medium rounded-md transition-colors duration-200
         focus:outline-none focus:ring-2 focus:ring-offset-2;
}

.status-toggle-btn.active {
  @apply text-white bg-blue-600 hover:bg-blue-700 
         focus:ring-blue-500;
}

.status-toggle-btn.inactive {
  @apply text-blue-700 bg-blue-100 hover:bg-blue-200 
         focus:ring-blue-500;
}
```

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

#### ARIAå±æ€§
```tsx
<div role="tablist" aria-label="è¨ˆç®—çµæœè¡¨ç¤º">
  <button
    role="tab"
    aria-selected={activeResult === 'damage'}
    aria-controls="damage-preview"
    id="damage-toggle"
  >
    ä¸ãƒ€ãƒ¡ãƒ¼ã‚¸ç¢ºèª
  </button>
  <button
    role="tab"
    aria-selected={activeResult === 'status'}
    aria-controls="status-preview"
    id="status-toggle"
  >
    ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
  </button>
</div>

<div
  role="tabpanel"
  aria-labelledby="damage-toggle"
  id="damage-preview"
  hidden={activeResult !== 'damage'}
>
  {/* ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
</div>
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

1. **ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯** â†’ UIStoreæ›´æ–° â†’ çŠ¶æ…‹å¤‰æ›´
2. **çŠ¶æ…‹å¤‰æ›´** â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
3. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°** â†’ CalculatorStoreçµŒç”±ã§æœ€æ–°ãƒ‡ãƒ¼ã‚¿å–å¾—
4. **è¡¨ç¤ºæ›´æ–°** â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åæ˜ 

### çµ±åˆæ–¹é‡

#### layout.tsxçµ±åˆ
```typescript
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja">
      <body>
        <Header />
        <ResultToggleBar />
        <main>{children}</main>
      </body>
    </html>
  )
}
```

### å°†æ¥æ‹¡å¼µ

#### è¿½åŠ äºˆå®šæ©Ÿèƒ½
- ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å®Œæˆå¾Œã®è©³ç´°è¡¨ç¤º
- è¤‡æ•°ã®è¨ˆç®—ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒæ©Ÿèƒ½
- ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ»å…±æœ‰æ©Ÿèƒ½
- è¨ˆç®—å±¥æ­´è¡¨ç¤º

#### æ‹¡å¼µå¯èƒ½ãªè¨­è¨ˆ
```typescript
interface ResultViewConfig {
  views: ResultView[]
  defaultView?: string
  showIcons: boolean
  allowMultipleActive: boolean
}

interface ResultView {
  id: string
  label: string
  icon?: React.ComponentType
  component: React.ComponentType
  color: string
  badge?: string | number
}
```