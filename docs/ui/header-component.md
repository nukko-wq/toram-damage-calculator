# ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ›¸

## æ¦‚è¦

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚’å«ã‚€çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

### Headerï¼ˆãƒ¡ã‚¤ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/ui/Header.tsx`
- **ç›®çš„**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ¢ãƒã‚¤ãƒ«

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ—¡ï¸] ãƒˆãƒ¼ãƒ©ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—    [ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†] [è¨ˆç®—çµæœè¡¨ç¤º] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
- å·¦å´: ã‚µã‚¤ãƒˆãƒ­ã‚´ + ã‚¿ã‚¤ãƒˆãƒ«
- å³å´: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤ï¼ˆã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã€è¨ˆç®—çµæœè¡¨ç¤ºï¼‰

**ãƒ¢ãƒã‚¤ãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
- ä¸Šæ®µ: ã‚µã‚¤ãƒˆãƒ­ã‚´ + ã‚¿ã‚¤ãƒˆãƒ«
- ä¸‹æ®µ: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤ï¼ˆç¸¦ä¸¦ã³é…ç½®ï¼‰

## UIä»•æ§˜

### ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†
- **ã‚¢ã‚¤ã‚³ãƒ³**: âš”ï¸ ã¾ãŸã¯ ğŸ—¡ï¸ï¼ˆå‰£ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼‰
- **ã‚¿ã‚¤ãƒˆãƒ«**: "ãƒˆãƒ¼ãƒ©ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—"
- **ãƒ•ã‚©ãƒ³ãƒˆ**: æ—¥æœ¬èªå¯¾å¿œã€ã‚»ãƒŸãƒœãƒ¼ãƒ«ãƒ‰
- **è‰²**: ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼ï¼ˆé’ç³»ï¼‰

### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
1. **ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒœã‚¿ãƒ³**
   - ç¾åœ¨ã®å®Ÿè£…ã‚’æµç”¨
   - ã‚¢ã‚¤ã‚³ãƒ³: ğŸ“‹ ã¾ãŸã¯ ğŸ’¾
   - ãƒ©ãƒ™ãƒ«: "ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†"

2. **è¨ˆç®—çµæœè¡¨ç¤ºãƒœã‚¿ãƒ³**
   - è¨ˆç®—çµæœã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
   - ã‚¢ã‚¤ã‚³ãƒ³: ğŸ“Š ã¾ãŸã¯ â–¼ï¼ˆçŠ¶æ…‹ã«å¿œã˜ã¦å¤‰åŒ–ï¼‰
   - ãƒ©ãƒ™ãƒ«: "è¨ˆç®—çµæœã‚’è¡¨ç¤º" / "è¨ˆç®—çµæœã‚’éè¡¨ç¤º"

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­è¨ˆ

**ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**:
- `sm`: 640pxä»¥ä¸Šï¼ˆãƒ¢ãƒã‚¤ãƒ«ï¼‰
- `md`: 768pxä»¥ä¸Šï¼ˆã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼‰
- `lg`: 1024pxä»¥ä¸Šï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰

**ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆlgä»¥ä¸Šï¼‰**:
```css
display: flex
justify-content: space-between
align-items: center
```

**ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆmd-lgï¼‰**:
```css
display: flex
flex-direction: column
gap: 1rem
```

**ãƒ¢ãƒã‚¤ãƒ«ï¼ˆsmæœªæº€ï¼‰**:
```css
display: flex
flex-direction: column
gap: 0.75rem
```

## æŠ€è¡“ä»•æ§˜

### TypeScript ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```typescript
interface HeaderProps {
  className?: string
}

interface HeaderActionsProps {
  showSaveManager: boolean
  onToggleSaveManager: () => void
  showCalculationResult: boolean
  onToggleCalculationResult: () => void
}
```

### Zustandçµ±åˆ

ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ä»¥ä¸‹ã®ã‚¹ãƒˆã‚¢ã¨é€£æº:

```typescript
// UIStore
const { showSaveManager, setShowSaveManager } = useUIStore()

// CalculatorStore
const { 
  isCalculationResultVisible, 
  toggleCalculationResultVisibility 
} = useCalculatorStore()
```

### ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

**Tailwind CSS ã‚¯ãƒ©ã‚¹æ§‹æˆ**:
```css
/* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ */
.header-container {
  @apply sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm;
}

/* ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ† */
.header-title {
  @apply flex items-center gap-2 text-xl font-semibold text-gray-900;
}

/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
.header-action-btn {
  @apply inline-flex items-center px-4 py-2 border border-transparent 
         text-sm font-medium rounded-md text-white bg-blue-600 
         hover:bg-blue-700 focus:outline-none focus:ring-2 
         focus:ring-blue-500 focus:ring-offset-2;
}
```

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²

### Header.tsxï¼ˆãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–åˆ¶å¾¡
- Zustandã‚¹ãƒˆã‚¢ã¨ã®çµ±åˆ

### HeaderTitle.tsxï¼ˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã¨ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤º
- ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¦ç´ ã®ç®¡ç†

### HeaderActions.tsxï¼ˆã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰
- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç¾¤ã®ç®¡ç†
- ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹è¡¨ç¤ºã¨ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

### ARIAå±æ€§
```tsx
<header role="banner" aria-label="ãƒ¡ã‚¤ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼">
  <h1 aria-label="ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«">ãƒˆãƒ¼ãƒ©ãƒ ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—</h1>
  <nav role="navigation" aria-label="ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³">
    <button aria-expanded={showSaveManager} aria-controls="save-manager">
      ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†
    </button>
    <button aria-expanded={showCalculationResult} aria-controls="calculation-result">
      è¨ˆç®—çµæœè¡¨ç¤º
    </button>
  </nav>
</header>
```

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- Tabé †åº: ã‚¿ã‚¤ãƒˆãƒ« â†’ ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒœã‚¿ãƒ³ â†’ è¨ˆç®—çµæœè¡¨ç¤ºãƒœã‚¿ãƒ³
- Enter/Space: ãƒœã‚¿ãƒ³ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³
- Escape: ãƒ¢ãƒ¼ãƒ€ãƒ«ç³»ã®é–‰ã˜ã‚‹å‹•ä½œï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®äº‹é …

### ãƒ¡ãƒ¢åŒ–
```typescript
export const Header = memo(() => {
  // implementation
})

export const HeaderActions = memo<HeaderActionsProps>(({ 
  showSaveManager, 
  onToggleSaveManager,
  showCalculationResult,
  onToggleCalculationResult 
}) => {
  // implementation
}, (prevProps, nextProps) => {
  return (
    prevProps.showSaveManager === nextProps.showSaveManager &&
    prevProps.showCalculationResult === nextProps.showCalculationResult
  )
})
```

### æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ
- çŠ¶æ…‹å¤‰æ›´æ™‚ã®ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢
- ã‚¢ã‚¤ã‚³ãƒ³ã®SVGæœ€é©åŒ–
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ç”¨ã®CSSã®æœ€é©åŒ–

## çµ±åˆæ–¹é‡

### layout.tsxçµ±åˆ
```typescript
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja">
      <body>
        <Header />
        <main>{children}</main>
      </body>
    </html>
  )
}
```

### æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ç§»è¡Œ
1. `src/app/page.tsx`ã‹ã‚‰ãƒ˜ãƒƒãƒ€ãƒ¼é–¢é€£ã‚³ãƒ¼ãƒ‰ã‚’æŠ½å‡º
2. ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒœã‚¿ãƒ³ã‚’HeaderActionsã«ç§»å‹•
3. è¨ˆç®—çµæœè¡¨ç¤ºãƒœã‚¿ãƒ³ã‚’HeaderActionsã«ç§»å‹•
4. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚¹ã‚¿ã‚¤ãƒ«ã®çµ±åˆ

## åˆ†é›¢ã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
ãƒ˜ãƒƒãƒ€ãƒ¼ã¨é€£æºã™ã‚‹ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç‹¬ç«‹ã—ãŸè¨­è¨ˆæ›¸ã§ç®¡ç†:

- **ResultToggleBar**: è¨ˆç®—çµæœè¡¨ç¤ºåˆ¶å¾¡ â†’ [result-toggle-bar.md](./result-toggle-bar.md)
- **StatusPreview**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨ˆç®—çµæœè©³ç´°è¡¨ç¤º â†’ [status-preview.md](./status-preview.md)
- **DamagePreview**: ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—çµæœè¡¨ç¤ºï¼ˆå°†æ¥å®Ÿè£…ï¼‰

### çµ±åˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```typescript
// layout.tsx
<Header />           // ã‚µã‚¤ãƒˆãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚° + ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ç®¡ç†
<ResultToggleBar />  // è¨ˆç®—çµæœè¡¨ç¤ºåˆ¶å¾¡
<main>{children}</main>
```