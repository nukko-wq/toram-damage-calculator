# 攻撃スキル設計書

このディレクトリには、Toram Online Damage Calculatorで実装されている攻撃スキルの詳細設計書が含まれています。

## 実装済みスキル

### 剣系統

- [バスターブレード](./buster-blade.md) - 武器種別による特殊計算を実装した汎用剣系スキル
  - 対応武器: 片手剣、両手剣、双剣
  - 基本倍率: 750%
  - 武器種別補正: 片手剣(+基礎DEX/2%)、両手剣(+基礎STR%)、双剣(補正なし)
  - 特殊効果: 確定クリティカル

- [Lブーメラン３](./l-boomerang-3.md) - 両手剣専用の2hit攻撃スキル
  - 対応武器: 両手剣
  - 特殊計算: 威力+基礎DEX%
  - 特殊効果: 貫通ボーナス50%

### 弓系統

- [サイクロンアロー](./cyclone-arrow.md) - ハンタースキル系統の弓攻撃スキル
  - 対応武器: 弓
  - 基本倍率: 100%
  - サブ武器補正: 矢装備時+補正後DEX/2%
  - 消費MP: 100
  - 固定ダメージ: 100
  - 慣れ: 物理慣れ参照・付与
  - 距離威力: 近距離○ 遠距離○
  - 計算方式: サブ武器による特殊計算

### 槍系統

- [トールハンマー(単発)](./thor-hammer.md) - 槍系統の魔法攻撃スキル
  - 対応武器: (保留)
  - 基本倍率: 1500%
  - 固定ダメージ: 400
  - 消費MP: 400
  - 威力参照: 槍MATK
  - 攻撃タイプ: 魔法攻撃 (MDEF・魔法耐性参照)
  - 慣れ: 魔法慣れ参照・付与
  - 距離威力: × | 抜刀威力: × | ロングレンジ: ×
  - 特殊効果: 確定クリティカル

## スキル設計仕様

各スキルの設計書には以下の情報が含まれています：

### 基本情報
- スキル名とID
- 系統グループとカテゴリ
- 武器種要件
- 消費MP
- 表示順序

### 計算仕様
- 計算方式（標準/特殊）
- 基本倍率と固定ダメージ
- 武器種別補正
- 特殊効果

### 実装詳細
- データ構造定義
- 計算機クラス仕様
- UI表示仕様
- テストケース

### 技術仕様
- TypeScript型定義
- React コンポーネント統合
- 計算エンジン連携

## 開発ガイドライン

新しい攻撃スキルを追加する際は、以下の手順に従ってください：

1. **設計書作成**: このディレクトリに `{skill-id}.md` ファイルを作成
2. **データ定義**: `src/data/attackSkills.ts` にスキルデータを追加
3. **計算機実装**: 必要に応じて専用計算機クラスを作成
4. **統合**: `AttackSkillCalculator.ts` で計算機を登録
5. **テスト**: 実装の検証とテストケース作成

## 関連ファイル

### 実装ファイル
- `src/data/attackSkills.ts` - スキルマスタデータ
- `src/utils/attackSkillCalculation/` - 計算エンジン
- `src/components/attack-skill/` - UI コンポーネント
- `src/types/calculator.ts` - 型定義

### 設計文書
- `docs/technical/attack-skill-form.md` - UI設計
- `docs/technical/attack-skill-calculation.md` - 計算エンジン設計
- `docs/ui/` - ユーザーインターフェース仕様

## 実装状況

- ✅ **フレームワーク**: 攻撃スキル計算システム完成
- ✅ **基本計算機**: 標準計算機、特殊計算機対応
- ✅ **UI統合**: AttackSkillForm完全実装
- ✅ **型安全性**: TypeScript完全対応
- 🔄 **スキル追加**: 継続的に新スキル実装中

## 将来の拡張

### 計画中のスキル系統
- 槍系統スキルの拡張
- 魔法系統スキルの追加
- 手甲系統スキルの実装
- 弓系統スキルの拡張

### 機能拡張
- スキルツリー表示
- スキル検索・フィルタ機能
- 計算結果の詳細表示
- スキル比較機能